(()=>{"use strict";var e={1167(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getFromLocalStorage=t.saveToLocalStorage=t.getSeasonFactors=t.saveSeasonFactors=t.updateFactors=t.getFactors=t.saveFactors=void 0;const o="submittedFactors";t.saveFactors=e=>{localStorage.setItem(o,JSON.stringify(e))},t.getFactors=()=>{const e=localStorage.getItem(o);return e?JSON.parse(e):[]},t.updateFactors=e=>{const o=(0,t.getFactors)(),n=[...o];e.forEach(e=>{o.some(t=>t.id===e.id)||n.push(e)}),(0,t.saveFactors)(n)},t.saveSeasonFactors=(e,t)=>new Promise(o=>{const n={season:e,alphas:t,lastUpdated:Date.now()};chrome.storage.local.set({[e]:n},()=>{o()})}),t.getSeasonFactors=e=>new Promise(t=>{chrome.storage.local.get([e],o=>{o[e]?t(o[e].alphas):t([])})}),t.saveToLocalStorage=(e,t)=>new Promise(o=>{chrome.storage.local.set({[e]:t},o)}),t.getFromLocalStorage=e=>new Promise(t=>{chrome.storage.local.get([e],o=>t(o[e]))})},8153(e,t,o){var n=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(a,r){function s(e){try{i(n.next(e))}catch(e){r(e)}}function c(e){try{i(n.throw(e))}catch(e){r(e)}}function i(e){var t;e.done?a(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(s,c)}i((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const a=o(1167);document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("matchBtn"),t=document.getElementById("fieldInput"),o=document.getElementById("seasonInput"),r=document.getElementById("result");e&&e.addEventListener("click",()=>n(void 0,void 0,void 0,function*(){const e=t.value.trim(),n=o.value.trim();if(!e||!n)return void(r.textContent="请输入字段名和赛季 (如 2023-Q1)");r.textContent="正在搜索...";const s=yield(0,a.getSeasonFactors)(n);if(!s||0===s.length)return void(r.textContent=`未找到 ${n} 的本地数据，请先去下载。`);const c=s.filter(t=>new RegExp(`\\b${e}\\b`).test(t.code));c.length>0?r.innerHTML=`\n                    <h3>匹配成功 (${c.length} 个):</h3>\n                    <ul>\n                        ${c.map(e=>`\n                            <li>\n                                <strong>ID:</strong> ${e.id}<br/>\n                                <strong>Date:</strong> ${e.dateCreated}<br/>\n                                <code>${e.code}</code>\n                            </li>\n                        `).join("")}\n                    </ul>\n                `:r.textContent="未匹配到任何因子。"}))})}},t={};!function o(n){var a=t[n];if(void 0!==a)return a.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,o),r.exports}(8153)})();
//# sourceMappingURL=options.bundle.js.map